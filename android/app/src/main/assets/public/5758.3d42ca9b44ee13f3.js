"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5758],{5758:(R,f,a)=>{a.r(f),a.d(f,{RegisterPageModule:()=>F});var p=a(177),r=a(4341),g=a(4742),d=a(5998),u=a(467),e=a(4438),P=a(7071);function C(n,i){if(1&n&&(e.j41(0,"div",27),e.EFF(1),e.k0s()),2&n){const s=e.XpG();e.R7$(),e.SpI(" ",s.getFieldError("name")," ")}}function h(n,i){if(1&n&&(e.j41(0,"div",27),e.EFF(1),e.k0s()),2&n){const s=e.XpG();e.R7$(),e.SpI(" ",s.getFieldError("email")," ")}}function _(n,i){if(1&n&&(e.j41(0,"div",27),e.EFF(1),e.k0s()),2&n){const s=e.XpG();e.R7$(),e.SpI(" ",s.getFieldError("password")," ")}}function M(n,i){if(1&n&&(e.j41(0,"div",27),e.EFF(1),e.k0s()),2&n){const s=e.XpG();e.R7$(),e.SpI(" ",s.getFieldError("confirmPassword")," ")}}function O(n,i){1&n&&e.nrm(0,"ion-spinner",28)}function v(n,i){1&n&&(e.j41(0,"span"),e.EFF(1,"Criar Conta"),e.k0s())}const b=[{path:"",component:(()=>{var n;class i{constructor(o,t,c,l,m){this.fb=o,this.authService=t,this.router=c,this.loadingController=l,this.toastController=m,this.isLoading=!1,this.showPassword=!1,this.showConfirmPassword=!1,this.registerForm=this.fb.group({name:["",[r.k0.required,r.k0.minLength(2)]],email:["",[r.k0.required,r.k0.email]],password:["",[r.k0.required,r.k0.minLength(6)]],confirmPassword:["",[r.k0.required]]})}ngOnInit(){}onSubmit(){var o=this;return(0,u.A)(function*(){if(o.registerForm.valid){const t=yield o.loadingController.create({message:"Criando conta...",spinner:"crescent"});yield t.present(),o.isLoading=!0,o.authService.register(o.registerForm.value).subscribe({next:(c=(0,u.A)(function*(l){yield t.dismiss(),o.isLoading=!1,yield(yield o.toastController.create({message:`Conta criada com sucesso! Bem-vindo, ${l.user.name}!`,duration:3e3,color:"success",position:"top"})).present(),o.router.navigate(["/dashboard"])}),function(m){return c.apply(this,arguments)}),error:function(){var c=(0,u.A)(function*(l){yield t.dismiss(),o.isLoading=!1,yield(yield o.toastController.create({message:l.message||"Erro ao criar conta",duration:3e3,color:"danger",position:"top"})).present()});return function(m){return c.apply(this,arguments)}}()})}else o.markFormGroupTouched();var c})()}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}goToLogin(){this.router.navigate(["/login"])}markFormGroupTouched(){Object.keys(this.registerForm.controls).forEach(o=>{const t=this.registerForm.get(o);null==t||t.markAsTouched()})}getFieldError(o){const t=this.registerForm.get(o);if(null!=t&&t.errors&&t.touched){if(t.errors.required)return`${o} \xe9 obrigat\xf3rio`;if(t.errors.email)return"Email inv\xe1lido";if(t.errors.minlength)return`${o} deve ter pelo menos ${t.errors.minlength.requiredLength} caracteres`}return""}}return(n=i).\u0275fac=function(o){return new(o||n)(e.rXU(r.ok),e.rXU(P.u),e.rXU(d.Ix),e.rXU(g.Xi),e.rXU(g.K_))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-register"]],decls:50,vars:12,consts:[[1,"register-content"],[1,"register-container"],[1,"logo-section"],[1,"logo-container"],["name","shield-checkmark",1,"logo-icon"],[1,"logo-text"],[1,"subtitle"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"form-group"],["fill","outline",1,"custom-item"],["position","floating"],["formControlName","name","type","text","placeholder","Digite seu nome"],["name","person-outline","slot","start",1,"input-icon"],["class","error-message",4,"ngIf"],["formControlName","email","type","email","placeholder","seu@email.com"],["name","mail-outline","slot","start",1,"input-icon"],["formControlName","password","placeholder","Digite sua senha",3,"type"],["name","lock-closed-outline","slot","start",1,"input-icon"],["fill","clear","slot","end",1,"password-toggle",3,"click"],[3,"name"],["formControlName","confirmPassword","placeholder","Confirme sua senha",3,"type"],["expand","block","type","submit",1,"register-button",3,"disabled"],["name","crescent",4,"ngIf"],[4,"ngIf"],[1,"login-section"],[1,"login-text"],["fill","clear","size","small",1,"login-btn",3,"click"],[1,"error-message"],["name","crescent"]],template:function(o,t){1&o&&(e.j41(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3),e.nrm(4,"ion-icon",4),e.j41(5,"h1",5),e.EFF(6,"Porto Seguro"),e.k0s()(),e.j41(7,"p",6),e.EFF(8,"Criar nova conta"),e.k0s()(),e.j41(9,"form",7),e.bIt("ngSubmit",function(){return t.onSubmit()}),e.j41(10,"div",8)(11,"ion-item",9)(12,"ion-label",10),e.EFF(13,"Nome completo"),e.k0s(),e.nrm(14,"ion-input",11)(15,"ion-icon",12),e.k0s(),e.DNE(16,C,2,1,"div",13),e.k0s(),e.j41(17,"div",8)(18,"ion-item",9)(19,"ion-label",10),e.EFF(20,"Email"),e.k0s(),e.nrm(21,"ion-input",14)(22,"ion-icon",15),e.k0s(),e.DNE(23,h,2,1,"div",13),e.k0s(),e.j41(24,"div",8)(25,"ion-item",9)(26,"ion-label",10),e.EFF(27,"Senha"),e.k0s(),e.nrm(28,"ion-input",16)(29,"ion-icon",17),e.j41(30,"ion-button",18),e.bIt("click",function(){return t.togglePasswordVisibility()}),e.nrm(31,"ion-icon",19),e.k0s()(),e.DNE(32,_,2,1,"div",13),e.k0s(),e.j41(33,"div",8)(34,"ion-item",9)(35,"ion-label",10),e.EFF(36,"Confirmar senha"),e.k0s(),e.nrm(37,"ion-input",20)(38,"ion-icon",17),e.j41(39,"ion-button",18),e.bIt("click",function(){return t.toggleConfirmPasswordVisibility()}),e.nrm(40,"ion-icon",19),e.k0s()(),e.DNE(41,M,2,1,"div",13),e.k0s(),e.j41(42,"ion-button",21),e.DNE(43,O,1,0,"ion-spinner",22)(44,v,2,0,"span",23),e.k0s()(),e.j41(45,"div",24)(46,"p",25),e.EFF(47," J\xe1 tem uma conta? "),e.j41(48,"ion-button",26),e.bIt("click",function(){return t.goToLogin()}),e.EFF(49," Fa\xe7a login "),e.k0s()()()()()),2&o&&(e.R7$(9),e.Y8G("formGroup",t.registerForm),e.R7$(7),e.Y8G("ngIf",t.getFieldError("name")),e.R7$(7),e.Y8G("ngIf",t.getFieldError("email")),e.R7$(5),e.Y8G("type",t.showPassword?"text":"password"),e.R7$(3),e.Y8G("name",t.showPassword?"eye-off-outline":"eye-outline"),e.R7$(),e.Y8G("ngIf",t.getFieldError("password")),e.R7$(5),e.Y8G("type",t.showConfirmPassword?"text":"password"),e.R7$(3),e.Y8G("name",t.showConfirmPassword?"eye-off-outline":"eye-outline"),e.R7$(),e.Y8G("ngIf",t.getFieldError("confirmPassword")),e.R7$(),e.Y8G("disabled",t.isLoading),e.R7$(),e.Y8G("ngIf",t.isLoading),e.R7$(),e.Y8G("ngIf",!t.isLoading))},dependencies:[p.bT,r.qT,r.BC,r.cb,r.j4,r.JD,g.Jm,g.W9,g.iq,g.$w,g.uz,g.he,g.w2,g.Gw],styles:[".register-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%)}.register-content[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{min-height:100vh;padding:2rem 1.5rem;display:flex;flex-direction:column;justify-content:center;max-width:400px;margin:0 auto}.register-content[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.register-content[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin-bottom:1rem}.register-content[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:2.5rem;color:var(--ion-color-light);margin-right:.5rem}.register-content[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{color:var(--ion-color-light);font-size:1.75rem;font-weight:700;margin:0}.register-content[_ngcontent-%COMP%]   .logo-section[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--ion-color-light);opacity:.9;font-size:1rem;margin:0}.register-content[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.register-content[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-item[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .95);--border-radius: 12px;--border-width: 2px;--border-color: transparent;margin-bottom:.5rem}.register-content[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-item.ion-focused[_ngcontent-%COMP%]{--border-color: var(--ion-color-primary)}.register-content[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-right:.5rem}.register-content[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-item[_ngcontent-%COMP%]   .password-toggle[_ngcontent-%COMP%]{--color: var(--ion-color-medium)}.register-content[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-size:.875rem;margin-left:.5rem;margin-top:.25rem}.register-content[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-button[_ngcontent-%COMP%]{--background: var(--ion-color-success);--background-activated: var(--ion-color-success-shade);--border-radius: 12px;--box-shadow: 0 4px 16px rgba(0, 0, 0, .2);height:48px;font-weight:600;margin-bottom:1rem}.register-content[_ngcontent-%COMP%]   .register-form[_ngcontent-%COMP%]   .register-button[_ngcontent-%COMP%]:hover{--background: var(--ion-color-success-shade)}.register-content[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]{text-align:center}.register-content[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   .login-text[_ngcontent-%COMP%]{color:var(--ion-color-light);margin:0}.register-content[_ngcontent-%COMP%]   .login-section[_ngcontent-%COMP%]   .login-text[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{--color: var(--ion-color-light);font-weight:600;text-decoration:underline}@media (max-width: 480px){.register-content[_ngcontent-%COMP%]   .register-container[_ngcontent-%COMP%]{padding:1rem}}@media (prefers-color-scheme: dark){.register-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, #0f1419 0%, #1a1f2e 100%)}}"]}),i})()}];let k=(()=>{var n;class i{}return(n=i).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[d.iI.forChild(b),d.iI]}),i})(),F=(()=>{var n;class i{}return(n=i).\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[p.MD,r.YN,r.X1,g.bv,k]}),i})()}}]);
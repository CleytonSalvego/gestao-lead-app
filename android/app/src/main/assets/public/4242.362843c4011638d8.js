"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4242],{4242:(Se,M,p)=>{p.r(M),p.d(M,{IntegrationsPageModule:()=>we});var f=p(177),g=p(4341),c=p(4742),O=p(1626),k=p(5998),v=p(467),y=p(1413),h=p(6977),e=p(4438),C=p(4412),m=p(7673),F=p(8810),b=p(6354),P=p(8384);let I=(()=>{var i;class a{constructor(n){this.http=n,this.providers$=new C.t([]),this.configurations$=new C.t([]),this.webhooks$=new C.t([]),this.apiCalls$=new C.t([]),this.webhookLogs$=new C.t([]),this.initializeProviders(),this.loadMockData()}getProviders(){return this.providers$.asObservable()}getProvider(n){return this.providers$.pipe((0,b.T)(o=>o.find(r=>r.id===n)))}getConfigurations(){return this.configurations$.asObservable()}getConfiguration(n){return this.configurations$.pipe((0,b.T)(o=>o.find(r=>r.id===n)))}saveConfiguration(n){const o=this.configurations$.value;if(n.id){const s=o.findIndex(l=>l.id===n.id);if(-1!==s)return o[s]={...o[s],...n,updatedAt:new Date},this.configurations$.next([...o]),(0,m.of)(o[s])}const r={id:this.generateId(),providerId:n.providerId,name:n.name,status:"inactive",config:n.config||{},capabilities:n.capabilities||[],createdAt:new Date,updatedAt:new Date,...n};return o.push(r),this.configurations$.next([...o]),(0,m.of)(r)}deleteConfiguration(n){const o=this.configurations$.value,r=o.findIndex(s=>s.id===n);return-1!==r?(o.splice(r,1),this.configurations$.next([...o]),(0,m.of)(!0)):(0,m.of)(!1)}testConfiguration(n){const o=this.configurations$.value.find(s=>s.id===n);if(!o)return(0,F.$)(()=>new Error("Configuration not found"));const r=this.providers$.value.find(s=>s.id===o.providerId);return r?this.performProviderTest(r,o).pipe((0,b.T)(s=>{const l=this.configurations$.value,d=l.findIndex(_=>_.id===n);return-1!==d&&(l[d].lastTested=new Date,l[d].testResults=s,l[d].status=s.success?"active":"error",this.configurations$.next([...l])),s})):(0,F.$)(()=>new Error("Provider not found"))}performProviderTest(n,o){switch(Date.now(),n.id){case"facebook":return this.testFacebookIntegration(o);case"google-ads":return this.testGoogleAdsIntegration(o);default:return this.testGenericIntegration(n,o)}}testFacebookIntegration(n){const o=n.config;return o.appId&&o.accessToken?(0,m.of)({success:!0,timestamp:new Date,responseTime:1e3*Math.random()+200,statusCode:200,details:{tokenValid:!0,permissions:o.permissions,pageConnected:!!o.pageId,adAccountConnected:!!o.adAccountId}}).pipe((0,P.c)(1e3)):(0,m.of)({success:!1,timestamp:new Date,responseTime:0,error:"App ID e Access Token s\xe3o obrigat\xf3rios"})}testGoogleAdsIntegration(n){const o=n.config;return o.clientId&&o.customerId?(0,m.of)({success:!0,timestamp:new Date,responseTime:800*Math.random()+300,statusCode:200,details:{customerAccessible:!0,hasActiveCampaigns:!0}}).pipe((0,P.c)(800)):(0,m.of)({success:!1,timestamp:new Date,responseTime:0,error:"Client ID e Customer ID s\xe3o obrigat\xf3rios"})}testGenericIntegration(n,o){return(0,m.of)({success:Math.random()>.2,timestamp:new Date,responseTime:1500*Math.random()+200,statusCode:Math.random()>.2?200:500,error:Math.random()>.2?void 0:"Connection timeout"}).pipe((0,P.c)(500))}getWebhooks(){return this.webhooks$.asObservable()}saveWebhook(n){const o=this.webhooks$.value;if(n.id){const s=o.findIndex(l=>l.id===n.id);if(-1!==s)return o[s]={...o[s],...n},this.webhooks$.next([...o]),(0,m.of)(o[s])}const r={id:this.generateId(),integrationId:n.integrationId,name:n.name,endpoint:n.endpoint,events:n.events||[],active:n.active||!0,status:!1!==n.active?"active":"inactive",totalTriggers:0,successRate:100,...n};return o.push(r),this.webhooks$.next([...o]),(0,m.of)(r)}getStats(){const n=this.configurations$.value,o=this.apiCalls$.value,r=new Date;r.setHours(0,0,0,0);const s=o.filter(u=>u.timestamp>=r),l=o.length,d=o.filter(u=>u.success),_=this.webhooks$.value;return(0,m.of)({totalIntegrations:n.length,activeIntegrations:n.filter(u=>"active"===u.status).length,totalCalls:l,todayCalls:s.length,avgResponseTime:l>0?o.reduce((u,De)=>u+De.responseTime,0)/l:0,errorRate:l>0?(l-d.length)/l*100:0,successRate:l>0?d.length/l*100:100,totalAPIs:n.length,activeAPIs:n.filter(u=>"active"===u.status).length,totalWebhooks:_.length,activeWebhooks:_.filter(u=>"active"===u.status).length})}getRecentAPICalls(n=10){return this.apiCalls$.pipe((0,b.T)(o=>[...o].sort((r,s)=>s.timestamp.getTime()-r.timestamp.getTime()).slice(0,n)))}getRecentWebhookLogs(n=10){return this.webhookLogs$.pipe((0,b.T)(o=>[...o].sort((r,s)=>s.timestamp.getTime()-r.timestamp.getTime()).slice(0,n)))}generateId(){return Math.random().toString(36).substr(2,9)}initializeProviders(){this.providers$.next([{id:"facebook",name:"facebook",displayName:"Facebook & Instagram",description:"Integre com Facebook Ads e Instagram para capturar leads e analisar campanhas",icon:"logo-facebook",color:"primary",category:"social-media",authType:"oauth2",webhookSupport:!0,testEndpoint:"https://graph.facebook.com/me",capabilities:[{id:"lead_retrieval",name:"Captura de Leads",description:"Recuperar leads de formul\xe1rios do Facebook",enabled:!0,permissions:["leads_retrieval"]},{id:"campaign_insights",name:"Insights de Campanhas",description:"Obter m\xe9tricas de campanhas publicit\xe1rias",enabled:!0,permissions:["ads_read"]},{id:"instagram_media",name:"M\xeddia do Instagram",description:"Acessar posts e stories do Instagram",enabled:!0,permissions:["instagram_basic","instagram_manage_insights"]}],fields:[{id:"app_id",name:"appId",label:"App ID",type:"text",required:!0,placeholder:"Seu Facebook App ID",description:"ID da aplica\xe7\xe3o Facebook criada no Facebook Developers",group:"authentication"},{id:"app_secret",name:"appSecret",label:"App Secret",type:"password",required:!0,placeholder:"Seu Facebook App Secret",description:"Chave secreta da aplica\xe7\xe3o Facebook",group:"authentication"},{id:"access_token",name:"accessToken",label:"Access Token",type:"textarea",required:!0,placeholder:"Seu Access Token de longa dura\xe7\xe3o",description:"Token de acesso obtido atrav\xe9s do processo OAuth",group:"authentication"},{id:"business_manager_id",name:"businessManagerId",label:"Business Manager ID",type:"text",required:!1,placeholder:"ID do Business Manager",description:"ID do seu Business Manager (opcional)",group:"business"},{id:"ad_account_id",name:"adAccountId",label:"Ad Account ID",type:"text",required:!1,placeholder:"act_123456789",description:"ID da conta publicit\xe1ria (para campanhas)",group:"business"},{id:"page_id",name:"pageId",label:"Page ID",type:"text",required:!1,placeholder:"ID da sua p\xe1gina Facebook",description:"ID da p\xe1gina do Facebook conectada",group:"business"},{id:"instagram_account_id",name:"instagramAccountId",label:"Instagram Account ID",type:"text",required:!1,placeholder:"ID da conta Instagram",description:"ID da conta Instagram Business conectada",group:"business"},{id:"environment",name:"environment",label:"Ambiente",type:"select",required:!0,options:[{value:"sandbox",label:"Sandbox (Teste)"},{value:"production",label:"Produ\xe7\xe3o"}],description:"Ambiente para execu\xe7\xe3o da integra\xe7\xe3o",group:"settings"}]},{id:"google-ads",name:"google-ads",displayName:"Google Ads",description:"Integre com Google Ads para gerenciar campanhas e capturar convers\xf5es",icon:"logo-google",color:"warning",category:"advertising",authType:"oauth2",webhookSupport:!1,testEndpoint:"https://googleads.googleapis.com/v14/customers",capabilities:[{id:"campaign_management",name:"Gest\xe3o de Campanhas",description:"Criar e gerenciar campanhas publicit\xe1rias",enabled:!0},{id:"conversion_tracking",name:"Rastreamento de Convers\xf5es",description:"Rastrear e importar dados de convers\xf5es",enabled:!0},{id:"keyword_research",name:"Pesquisa de Palavras-chave",description:"Ferramenta de planejamento de palavras-chave",enabled:!0}],fields:[{id:"client_id",name:"clientId",label:"Client ID",type:"text",required:!0,placeholder:"Seu Google OAuth Client ID",description:"Client ID obtido no Google Cloud Console",group:"authentication"},{id:"client_secret",name:"clientSecret",label:"Client Secret",type:"password",required:!0,placeholder:"Seu Google OAuth Client Secret",description:"Client Secret obtido no Google Cloud Console",group:"authentication"},{id:"refresh_token",name:"refreshToken",label:"Refresh Token",type:"textarea",required:!0,placeholder:"Seu Refresh Token",description:"Token de atualiza\xe7\xe3o obtido no processo OAuth",group:"authentication"},{id:"customer_id",name:"customerId",label:"Customer ID",type:"text",required:!0,placeholder:"123-456-7890",description:"ID do cliente Google Ads (sem h\xedfens)",group:"account"},{id:"developer_token",name:"developerToken",label:"Developer Token",type:"password",required:!0,placeholder:"Seu Developer Token",description:"Token de desenvolvedor da API do Google Ads",group:"account"},{id:"login_customer_id",name:"loginCustomerId",label:"Login Customer ID",type:"text",required:!1,placeholder:"123-456-7890",description:"ID do cliente de login (para contas MCC)",group:"account"}]}])}loadMockData(){const n=[{id:"1",providerId:"facebook",name:"Facebook Produ\xe7\xe3o",status:"active",config:{appId:"123456789",pageId:"987654321",environment:"production"},capabilities:["lead_retrieval","campaign_insights"],createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-20"),lastTested:new Date("2024-01-20"),testResults:{success:!0,timestamp:new Date("2024-01-20"),responseTime:450,statusCode:200}}],o=[{id:"1",integrationId:"1",name:"Facebook Leads Webhook",endpoint:"https://api.example.com/webhooks/facebook-leads",events:["lead.created","lead.updated"],active:!0,status:"active",lastTriggered:new Date("2024-01-20T10:30:00"),totalTriggers:156,successRate:98.5,secret:"webhook_secret_123"},{id:"2",integrationId:"1",name:"Campaign Updates",endpoint:"https://api.example.com/webhooks/campaigns",events:["campaign.started","campaign.stopped"],active:!1,status:"inactive",lastTriggered:new Date("2024-01-19T14:15:00"),totalTriggers:42,successRate:95.2}],r=Array.from({length:50},(s,l)=>({id:`call_${l}`,integrationId:"1",method:["GET","POST","PUT"][Math.floor(3*Math.random())],endpoint:["/leads","/campaigns","/insights","/media"][Math.floor(4*Math.random())],timestamp:new Date(Date.now()-7*Math.random()*24*60*60*1e3),responseTime:Math.floor(2e3*Math.random())+100,statusCode:Math.random()>.15?200:[400,401,403,500][Math.floor(4*Math.random())],success:Math.random()>.15}));this.configurations$.next(n),this.webhooks$.next(o),this.apiCalls$.next(r)}}return(i=a).\u0275fac=function(n){return new(n||i)(e.KVO(O.Qq))},i.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"}),a})();function $(i,a){1&i&&(e.j41(0,"ion-text",23)(1,"p"),e.EFF(2,"Nome \xe9 obrigat\xf3rio"),e.k0s()())}function R(i,a){1&i&&(e.j41(0,"span",27),e.EFF(1,"*"),e.k0s())}function E(i,a){if(1&i&&(e.j41(0,"ion-note",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3).$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function j(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-label",11),e.EFF(2),e.DNE(3,R,2,0,"span",24),e.k0s(),e.nrm(4,"ion-input",25),e.DNE(5,E,2,1,"ion-note",26),e.k0s()),2&i){const t=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(2),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("ngIf",t.required),e.R7$(),e.AVh("ion-invalid",n.isFieldInvalid(t)),e.Y8G("formControlName",t.name)("placeholder",t.placeholder),e.R7$(),e.Y8G("ngIf",t.description)}}function T(i,a){1&i&&(e.j41(0,"span",27),e.EFF(1,"*"),e.k0s())}function G(i,a){if(1&i&&(e.j41(0,"ion-note",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3).$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function w(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-label",11),e.EFF(2),e.DNE(3,T,2,0,"span",24),e.k0s(),e.nrm(4,"ion-input",29),e.DNE(5,G,2,1,"ion-note",26),e.k0s()),2&i){const t=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(2),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("ngIf",t.required),e.R7$(),e.AVh("ion-invalid",n.isFieldInvalid(t)),e.Y8G("formControlName",t.name)("placeholder",t.placeholder),e.R7$(),e.Y8G("ngIf",t.description)}}function D(i,a){1&i&&(e.j41(0,"span",27),e.EFF(1,"*"),e.k0s())}function S(i,a){if(1&i&&(e.j41(0,"ion-note",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3).$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function A(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-label",11),e.EFF(2),e.DNE(3,D,2,0,"span",24),e.k0s(),e.nrm(4,"ion-textarea",30),e.DNE(5,S,2,1,"ion-note",26),e.k0s()),2&i){const t=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(2),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("ngIf",t.required),e.R7$(),e.AVh("ion-invalid",n.isFieldInvalid(t)),e.Y8G("formControlName",t.name)("placeholder",t.placeholder),e.R7$(),e.Y8G("ngIf",t.description)}}function Y(i,a){1&i&&(e.j41(0,"span",27),e.EFF(1,"*"),e.k0s())}function N(i,a){if(1&i&&(e.j41(0,"ion-note",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3).$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function z(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-label",11),e.EFF(2),e.DNE(3,Y,2,0,"span",24),e.k0s(),e.nrm(4,"ion-input",31),e.DNE(5,N,2,1,"ion-note",26),e.k0s()),2&i){const t=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(2),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("ngIf",t.required),e.R7$(),e.AVh("ion-invalid",n.isFieldInvalid(t)),e.Y8G("formControlName",t.name)("placeholder",t.placeholder),e.R7$(),e.Y8G("ngIf",t.description)}}function X(i,a){1&i&&(e.j41(0,"span",27),e.EFF(1,"*"),e.k0s())}function L(i,a){if(1&i&&(e.j41(0,"ion-select-option",34),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.Y8G("value",t.value),e.R7$(),e.SpI(" ",t.label," ")}}function W(i,a){if(1&i&&(e.j41(0,"ion-note",28),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3).$implicit;e.R7$(),e.SpI(" ",t.description," ")}}function J(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-label",11),e.EFF(2),e.DNE(3,X,2,0,"span",24),e.k0s(),e.j41(4,"ion-select",32),e.DNE(5,L,2,2,"ion-select-option",33),e.k0s(),e.DNE(6,W,2,1,"ion-note",26),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(2),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("ngIf",t.required),e.R7$(),e.Y8G("formControlName",t.name)("placeholder",t.placeholder),e.R7$(),e.Y8G("ngForOf",t.options),e.R7$(),e.Y8G("ngIf",t.description)}}function V(i,a){if(1&i&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3).$implicit;e.R7$(),e.JRh(t.description)}}function B(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-label"),e.EFF(2),e.DNE(3,V,2,1,"p",20),e.k0s(),e.nrm(4,"ion-toggle",35),e.k0s()),2&i){const t=e.XpG(2).$implicit;e.R7$(2),e.SpI(" ",t.label," "),e.R7$(),e.Y8G("ngIf",t.description),e.R7$(),e.Y8G("formControlName",t.name)}}function U(i,a){if(1&i&&(e.j41(0,"ion-text",23)(1,"p",36),e.EFF(2),e.k0s()()),2&i){const t=e.XpG(2).$implicit,n=e.XpG(2);e.R7$(2),e.JRh(n.getFieldErrorMessage(t))}}function q(i,a){if(1&i&&(e.j41(0,"div"),e.DNE(1,j,6,7,"ion-item",20)(2,w,6,7,"ion-item",20)(3,A,6,7,"ion-item",20)(4,z,6,7,"ion-item",20)(5,J,7,6,"ion-item",20)(6,B,5,3,"ion-item",20)(7,U,3,1,"ion-text",13),e.k0s()),2&i){const t=e.XpG().$implicit,n=e.XpG(2);e.R7$(),e.Y8G("ngIf","text"===t.type||"url"===t.type),e.R7$(),e.Y8G("ngIf","password"===t.type),e.R7$(),e.Y8G("ngIf","textarea"===t.type),e.R7$(),e.Y8G("ngIf","number"===t.type),e.R7$(),e.Y8G("ngIf","select"===t.type),e.R7$(),e.Y8G("ngIf","boolean"===t.type),e.R7$(),e.Y8G("ngIf",n.isFieldInvalid(t))}}function H(i,a){if(1&i&&(e.j41(0,"div"),e.DNE(1,q,8,7,"div",20),e.k0s()),2&i){const t=a.$implicit,n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.shouldShowField(t))}}function K(i,a){if(1&i&&(e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3),e.k0s()(),e.j41(4,"ion-card-content"),e.DNE(5,H,2,1,"div",14),e.k0s()()),2&i){const t=a.$implicit,n=e.XpG();e.R7$(3),e.JRh(n.getGroupTitle(t)),e.R7$(2),e.Y8G("ngForOf",n.fieldGroups[t])}}function Q(i,a){if(1&i&&(e.j41(0,"ion-chip",41),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t," ")}}function Z(i,a){if(1&i&&(e.j41(0,"div",39),e.DNE(1,Q,2,1,"ion-chip",40),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",t.permissions)}}function ee(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-item")(1,"ion-checkbox",37),e.bIt("ionChange",function(o){const r=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.onCapabilityChange(r.id,o))}),e.k0s(),e.j41(2,"ion-label")(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.k0s(),e.DNE(7,Z,2,1,"div",38),e.k0s()()}if(2&i){const t=a.$implicit,n=e.XpG();e.R7$(),e.Y8G("checked",n.isCapabilityEnabled(t.id)),e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.description),e.R7$(),e.Y8G("ngIf",t.permissions)}}function ne(i,a){if(1&i&&(e.j41(0,"div",45)(1,"span",46),e.EFF(2,"Status Code:"),e.k0s(),e.j41(3,"span",48),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(4),e.JRh(t.testResult.statusCode)}}function te(i,a){if(1&i&&(e.j41(0,"div",52)(1,"h4"),e.EFF(2,"Detalhes do Erro:"),e.k0s(),e.j41(3,"p",53),e.EFF(4),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(4),e.JRh(t.testResult.error)}}function oe(i,a){1&i&&e.nrm(0,"ion-icon",57)}function ie(i,a){1&i&&e.nrm(0,"ion-icon",58)}function re(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-label")(2,"h3"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s()(),e.DNE(6,oe,1,0,"ion-icon",55)(7,ie,1,0,"ion-icon",56),e.k0s()),2&i){const t=a.$implicit;e.R7$(3),e.JRh(t.key),e.R7$(2),e.JRh(t.value),e.R7$(),e.Y8G("ngIf",!0===t.value),e.R7$(),e.Y8G("ngIf",!1===t.value)}}function ae(i,a){if(1&i&&(e.j41(0,"div",54)(1,"h4"),e.EFF(2,"Detalhes Adicionais:"),e.k0s(),e.j41(3,"ion-list"),e.DNE(4,re,8,4,"ion-item",14),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(4),e.Y8G("ngForOf",t.getTestDetailsArray(t.testResult.details))}}function se(i,a){if(1&i&&(e.j41(0,"ion-card",42)(1,"ion-card-header")(2,"ion-card-title"),e.nrm(3,"ion-icon",43),e.EFF(4," Resultado do Teste "),e.k0s()(),e.j41(5,"ion-card-content")(6,"div",44)(7,"div",45)(8,"span",46),e.EFF(9,"Status:"),e.k0s(),e.j41(10,"ion-chip",47),e.EFF(11),e.k0s()(),e.j41(12,"div",45)(13,"span",46),e.EFF(14,"Tempo de Resposta:"),e.k0s(),e.j41(15,"span",48),e.EFF(16),e.nI1(17,"number"),e.k0s()(),e.DNE(18,ne,5,1,"div",49),e.j41(19,"div",45)(20,"span",46),e.EFF(21,"Data do Teste:"),e.k0s(),e.j41(22,"span",48),e.EFF(23),e.nI1(24,"date"),e.k0s()()(),e.DNE(25,te,5,1,"div",50)(26,ae,5,1,"div",51),e.k0s()()),2&i){const t=e.XpG();e.R7$(3),e.Y8G("name",t.testResult.success?"checkmark-circle":"close-circle")("color",t.testResult.success?"success":"danger"),e.R7$(7),e.Y8G("color",t.testResult.success?"success":"danger"),e.R7$(),e.SpI(" ",t.testResult.success?"Sucesso":"Falha"," "),e.R7$(5),e.SpI("",e.i5U(17,9,t.testResult.responseTime,"1.0-0"),"ms"),e.R7$(2),e.Y8G("ngIf",t.testResult.statusCode),e.R7$(5),e.JRh(e.i5U(24,12,t.testResult.timestamp,"dd/MM/yyyy HH:mm:ss")),e.R7$(2),e.Y8G("ngIf",!t.testResult.success&&t.testResult.error),e.R7$(),e.Y8G("ngIf",t.testResult.details)}}function ce(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"Testar Conex\xe3o"),e.k0s())}function le(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"Testando..."),e.k0s())}let x=(()=>{var i;class a{constructor(n,o,r,s){this.fb=n,this.integrationsService=o,this.alertController=r,this.loadingController=s,this.saved=new e.bkB,this.cancelled=new e.bkB,this.fieldGroups={},this.isEditing=!1,this.isTesting=!1}ngOnInit(){this.isEditing=!!this.configuration,this.setupForm(),this.groupFields()}setupForm(){var n,o;const r={name:[(null===(n=this.configuration)||void 0===n?void 0:n.name)||"",g.k0.required],capabilities:[(null===(o=this.configuration)||void 0===o?void 0:o.capabilities)||[]]};this.provider.fields.forEach(s=>{var l;const d=this.getValidators(s),_=(null===(l=this.configuration)||void 0===l||null===(l=l.config)||void 0===l?void 0:l[s.name])||"";r[s.name]=[_,d]}),this.configForm=this.fb.group(r)}getValidators(n){const o=[];if(n.required&&o.push(g.k0.required),"url"===n.type&&o.push(g.k0.pattern(/^https?:\/\/.+/)),n.validation){const r=n.validation;r.pattern&&o.push(g.k0.pattern(r.pattern)),r.minLength&&o.push(g.k0.minLength(r.minLength)),r.maxLength&&o.push(g.k0.maxLength(r.maxLength)),r.min&&o.push(g.k0.min(r.min)),r.max&&o.push(g.k0.max(r.max))}return o}groupFields(){this.fieldGroups={},this.provider.fields.forEach(n=>{const o=n.group||"general";this.fieldGroups[o]||(this.fieldGroups[o]=[]),this.fieldGroups[o].push(n)})}getGroupTitle(n){return{general:"Configura\xe7\xf5es Gerais",authentication:"Autentica\xe7\xe3o",business:"Dados de Neg\xf3cio",account:"Conta",settings:"Configura\xe7\xf5es Avan\xe7adas"}[n]||n}getGroupKeys(){return Object.keys(this.fieldGroups)}shouldShowField(n){var o;return!n.showWhen||(null===(o=this.configForm.get(n.showWhen.field))||void 0===o?void 0:o.value)===n.showWhen.value}onCapabilityChange(n,o){var r;const s=(null===(r=this.configForm.get("capabilities"))||void 0===r?void 0:r.value)||[];if(o.detail.checked)s.includes(n)||s.push(n);else{const l=s.indexOf(n);l>-1&&s.splice(l,1)}this.configForm.patchValue({capabilities:s})}isCapabilityEnabled(n){var o;return((null===(o=this.configForm.get("capabilities"))||void 0===o?void 0:o.value)||[]).includes(n)}testConnection(){var n=this;return(0,v.A)(function*(){if(n.configForm.invalid)return void(yield(yield n.alertController.create({header:"Formul\xe1rio Inv\xe1lido",message:"Por favor, preencha todos os campos obrigat\xf3rios antes de testar.",buttons:["OK"]})).present());const o=yield n.loadingController.create({message:"Testando conex\xe3o..."});yield o.present(),n.isTesting=!0,n.testResult=void 0;try{var r;const s={id:(null===(r=n.configuration)||void 0===r?void 0:r.id)||"temp",providerId:n.provider.id,name:n.configForm.value.name,config:n.getConfigData(),capabilities:n.configForm.value.capabilities};let l=s.id;n.configuration||(l=(yield n.integrationsService.saveConfiguration(s).toPromise()).id);const d=yield n.integrationsService.testConfiguration(l).toPromise();n.testResult=d,null!=d&&d.success?yield(yield n.alertController.create({header:"Teste Bem-sucedido!",message:"A conex\xe3o foi estabelecida com sucesso.",buttons:["OK"]})).present():yield(yield n.alertController.create({header:"Teste Falhou",message:(null==d?void 0:d.error)||"Erro desconhecido na conex\xe3o.",buttons:["OK"]})).present()}catch(s){console.error("Test error:",s),yield(yield n.alertController.create({header:"Erro no Teste",message:s.message||"Erro ao testar a conex\xe3o.",buttons:["OK"]})).present()}finally{n.isTesting=!1,yield o.dismiss()}})()}save(){var n=this;return(0,v.A)(function*(){if(n.configForm.invalid)return void(yield(yield n.alertController.create({header:"Formul\xe1rio Inv\xe1lido",message:"Por favor, preencha todos os campos obrigat\xf3rios.",buttons:["OK"]})).present());const o=yield n.loadingController.create({message:"Salvando configura\xe7\xe3o..."});yield o.present();try{var r,s;const l={id:null===(r=n.configuration)||void 0===r?void 0:r.id,providerId:n.provider.id,name:n.configForm.value.name,config:n.getConfigData(),capabilities:n.configForm.value.capabilities,status:null!==(s=n.testResult)&&void 0!==s&&s.success?"active":"inactive"},d=yield n.integrationsService.saveConfiguration(l).toPromise();d&&(n.saved.emit(d),yield(yield n.alertController.create({header:"Sucesso!",message:"Configura\xe7\xe3o salva com sucesso.",buttons:["OK"]})).present())}catch(l){console.error("Save error:",l),yield(yield n.alertController.create({header:"Erro ao Salvar",message:l.message||"Erro ao salvar a configura\xe7\xe3o.",buttons:["OK"]})).present()}finally{yield o.dismiss()}})()}getConfigData(){const n={};return this.provider.fields.forEach(o=>{var r;const s=null===(r=this.configForm.get(o.name))||void 0===r?void 0:r.value;null!=s&&""!==s&&(n[o.name]=s)}),n}cancel(){this.cancelled.emit()}getFieldErrorMessage(n){const o=this.configForm.get(n.name);return o&&o.errors&&o.touched?o.errors.required?`${n.label} \xe9 obrigat\xf3rio`:o.errors.pattern?`${n.label} tem formato inv\xe1lido`:o.errors.minlength?`${n.label} deve ter pelo menos ${o.errors.minlength.requiredLength} caracteres`:o.errors.maxlength?`${n.label} deve ter no m\xe1ximo ${o.errors.maxlength.requiredLength} caracteres`:"Campo inv\xe1lido":""}isFieldInvalid(n){const o=this.configForm.get(n.name);return!!(o&&o.invalid&&o.touched)}getCategoryLabel(n){return{"social-media":"Redes Sociais",advertising:"Publicidade",crm:"CRM",analytics:"Analytics",email:"Email Marketing",other:"Outros"}[n]||n}getTestDetailsArray(n){return Object.entries(n).map(([o,r])=>({key:this.formatDetailKey(o),value:r}))}formatDetailKey(n){return{tokenValid:"Token V\xe1lido",permissions:"Permiss\xf5es",pageConnected:"P\xe1gina Conectada",adAccountConnected:"Conta Publicit\xe1ria Conectada",customerAccessible:"Cliente Acess\xedvel",hasActiveCampaigns:"Possui Campanhas Ativas"}[n]||n}}return(i=a).\u0275fac=function(n){return new(n||i)(e.rXU(g.ok),e.rXU(I),e.rXU(c.hG),e.rXU(c.Xi))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-integration-config"]],inputs:{provider:"provider",configuration:"configuration"},outputs:{saved:"saved",cancelled:"cancelled"},decls:53,vars:19,consts:[["slot","end"],["fill","clear",3,"click"],["name","close","slot","icon-only"],[1,"integration-config-content"],[1,"config-container"],[1,"provider-info-card"],[1,"provider-header"],[1,"provider-icon",3,"name","color"],[1,"provider-details"],["size","small",3,"color"],[3,"ngSubmit","formGroup"],["position","stacked"],["formControlName","name","placeholder","Ex: Facebook Produ\xe7\xe3o"],["color","danger",4,"ngIf"],[4,"ngFor","ngForOf"],["class","test-results-card",4,"ngIf"],[1,"footer-buttons"],["fill","outline",1,"cancel-button",3,"click"],["fill","outline","color","tertiary",1,"test-button",3,"click","disabled"],["name","pulse","slot","start"],[4,"ngIf"],["color","primary",1,"save-button",3,"click","disabled"],["name","save","slot","start"],["color","danger"],["class","required",4,"ngIf"],[3,"formControlName","placeholder"],["slot","helper",4,"ngIf"],[1,"required"],["slot","helper"],["type","password",3,"formControlName","placeholder"],["rows","3",3,"formControlName","placeholder"],["type","number",3,"formControlName","placeholder"],["interface","popover",3,"formControlName","placeholder"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["slot","end",3,"formControlName"],[1,"field-error"],["slot","start",3,"ionChange","checked"],["class","permissions",4,"ngIf"],[1,"permissions"],["color","tertiary","size","small",4,"ngFor","ngForOf"],["color","tertiary","size","small"],[1,"test-results-card"],[3,"name","color"],[1,"test-info"],[1,"test-metric"],[1,"label"],[3,"color"],[1,"value"],["class","test-metric",4,"ngIf"],["class","error-details",4,"ngIf"],["class","test-details",4,"ngIf"],[1,"error-details"],[1,"error-message"],[1,"test-details"],["name","checkmark-circle","color","success","slot","end",4,"ngIf"],["name","close-circle","color","danger","slot","end",4,"ngIf"],["name","checkmark-circle","color","success","slot","end"],["name","close-circle","color","danger","slot","end"]],template:function(n,o){if(1&n&&(e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-buttons",0)(5,"ion-button",1),e.bIt("click",function(){return o.cancel()}),e.nrm(6,"ion-icon",2),e.k0s()()()(),e.j41(7,"ion-content",3)(8,"div",4)(9,"ion-card",5)(10,"ion-card-content")(11,"div",6),e.nrm(12,"ion-icon",7),e.j41(13,"div",8)(14,"h2"),e.EFF(15),e.k0s(),e.j41(16,"p"),e.EFF(17),e.k0s(),e.j41(18,"ion-chip",9),e.EFF(19),e.k0s()()()()(),e.j41(20,"form",10),e.bIt("ngSubmit",function(){return o.save()}),e.j41(21,"ion-card")(22,"ion-card-header")(23,"ion-card-title"),e.EFF(24,"Configura\xe7\xe3o B\xe1sica"),e.k0s()(),e.j41(25,"ion-card-content")(26,"ion-item")(27,"ion-label",11),e.EFF(28,"Nome da Integra\xe7\xe3o *"),e.k0s(),e.nrm(29,"ion-input",12),e.k0s(),e.DNE(30,$,3,0,"ion-text",13),e.k0s()(),e.DNE(31,K,6,2,"ion-card",14),e.j41(32,"ion-card")(33,"ion-card-header")(34,"ion-card-title"),e.EFF(35,"Recursos Dispon\xedveis"),e.k0s(),e.j41(36,"ion-card-subtitle"),e.EFF(37,"Selecione os recursos que deseja ativar nesta integra\xe7\xe3o"),e.k0s()(),e.j41(38,"ion-card-content"),e.DNE(39,ee,8,4,"ion-item",14),e.k0s()(),e.DNE(40,se,27,15,"ion-card",15),e.k0s()()(),e.j41(41,"ion-footer")(42,"ion-toolbar")(43,"div",16)(44,"ion-button",17),e.bIt("click",function(){return o.cancel()}),e.EFF(45," Cancelar "),e.k0s(),e.j41(46,"ion-button",18),e.bIt("click",function(){return o.testConnection()}),e.nrm(47,"ion-icon",19),e.DNE(48,ce,2,0,"span",20)(49,le,2,0,"span",20),e.k0s(),e.j41(50,"ion-button",21),e.bIt("click",function(){return o.save()}),e.nrm(51,"ion-icon",22),e.EFF(52," Salvar "),e.k0s()()()()),2&n){let r,s;e.R7$(3),e.Lme("",o.isEditing?"Editar":"Configurar"," ",o.provider.displayName,""),e.R7$(9),e.Y8G("name",o.provider.icon)("color",o.provider.color),e.R7$(3),e.JRh(o.provider.displayName),e.R7$(2),e.JRh(o.provider.description),e.R7$(),e.Y8G("color",o.provider.color),e.R7$(),e.SpI(" ",o.getCategoryLabel(o.provider.category)," "),e.R7$(),e.Y8G("formGroup",o.configForm),e.R7$(9),e.AVh("ion-invalid",(null==(r=o.configForm.get("name"))?null:r.invalid)&&(null==(r=o.configForm.get("name"))?null:r.touched)),e.R7$(),e.Y8G("ngIf",(null==(s=o.configForm.get("name"))?null:s.invalid)&&(null==(s=o.configForm.get("name"))?null:s.touched)),e.R7$(),e.Y8G("ngForOf",o.getGroupKeys()),e.R7$(8),e.Y8G("ngForOf",o.provider.capabilities),e.R7$(),e.Y8G("ngIf",o.testResult),e.R7$(6),e.Y8G("disabled",o.configForm.invalid||o.isTesting),e.R7$(2),e.Y8G("ngIf",!o.isTesting),e.R7$(),e.Y8G("ngIf",o.isTesting),e.R7$(),e.Y8G("disabled",o.configForm.invalid)}},dependencies:[f.Sq,f.bT,g.qT,g.BC,g.cb,g.j4,g.JD,c.Jm,c.QW,c.b_,c.I9,c.ME,c.HW,c.tN,c.eY,c.ZB,c.W9,c.M0,c.eU,c.iq,c.$w,c.uz,c.he,c.nf,c.JI,c.Nm,c.Ip,c.IO,c.nc,c.BC,c.BY,c.ai,c.hB,c.su,c.Je,c.Gw,f.QX,f.vh],styles:[".integration-config-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, var(--gray-50) 0%, var(--primary-200) 100%)}@media (prefers-color-scheme: dark){.integration-config-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, var(--gray-900) 0%, var(--gray-800) 100%)}}.config-container[_ngcontent-%COMP%]{padding:1rem;max-width:800px;margin:0 auto}.provider-info-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;border-radius:12px;background:#fff;box-shadow:0 4px 12px #0000001a}.provider-info-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.provider-info-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   .provider-icon[_ngcontent-%COMP%]{font-size:3rem;min-width:48px}.provider-info-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   .provider-details[_ngcontent-%COMP%]{flex:1}.provider-info-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   .provider-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.5rem;font-weight:600;color:var(--ion-color-dark)}.provider-info-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   .provider-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .75rem;color:var(--ion-color-medium);line-height:1.4}ion-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;border-radius:12px;background:#fff;box-shadow:0 2px 8px #00000014}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding-bottom:.5rem}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--ion-color-dark);display:flex;align-items:center;gap:.5rem}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:.875rem;margin-top:.25rem}ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding-top:1rem}ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0;--border-width: 0 0 1px 0;--border-color: var(--ion-color-step-150);margin-bottom:1rem}ion-item[_ngcontent-%COMP%]:last-child{--border-width: 0}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.25rem}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-weight:600}ion-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-size:.75rem;color:var(--ion-color-medium);line-height:1.3}ion-item.ion-invalid[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%], ion-item.ion-invalid[_ngcontent-%COMP%]   ion-textarea[_ngcontent-%COMP%], ion-item.ion-invalid[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{--border-color: var(--ion-color-danger)}.field-error[_ngcontent-%COMP%]{font-size:.75rem;margin:.25rem 0 0;line-height:1.2}.permissions[_ngcontent-%COMP%]{margin-top:.5rem;display:flex;flex-wrap:wrap;gap:.25rem}.test-results-card.test-results-card[_ngcontent-%COMP%]{border-left:4px solid var(--ion-color-success)}.test-results-card.test-results-card.error[_ngcontent-%COMP%]{border-left-color:var(--ion-color-danger)}.test-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-bottom:1rem}.test-metric[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.test-metric[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;color:var(--ion-color-medium)}.test-metric[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--ion-color-dark)}.error-details[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;background:rgba(var(--ion-color-danger-rgb),.1);border-radius:8px;border-left:4px solid var(--ion-color-danger)}.error-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:var(--ion-color-danger);font-size:1rem}.error-details[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-danger);font-family:monospace;font-size:.875rem;line-height:1.4}.test-details[_ngcontent-%COMP%]{margin-top:1rem}.test-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .75rem;color:var(--ion-color-dark);font-size:1rem}.test-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:transparent}.test-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-light-rgb), .3);--border-radius: 8px;margin-bottom:.5rem}.test-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;margin-bottom:.25rem}.test-details[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem;color:var(--ion-color-medium)}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: white;--border-color: var(--ion-color-step-150);--border-width: 1px 0 0 0}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 1rem;gap:.75rem}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{flex-shrink:0}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .test-button[_ngcontent-%COMP%]{flex-shrink:0}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .footer-buttons[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{flex-shrink:0}@media (max-width: 768px){.config-container[_ngcontent-%COMP%]{padding:.5rem}.provider-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.provider-header[_ngcontent-%COMP%]   .provider-icon[_ngcontent-%COMP%]{font-size:2.5rem}.provider-header[_ngcontent-%COMP%]   .provider-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.test-info[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}.footer-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.footer-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%}}@media (prefers-color-scheme: dark){ion-card[_ngcontent-%COMP%]{background:var(--ion-color-step-50);border:1px solid var(--ion-color-step-100)}.provider-info-card[_ngcontent-%COMP%]{background:var(--ion-color-step-100)}ion-footer[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: var(--ion-color-step-100)}.error-details[_ngcontent-%COMP%]{background:rgba(var(--ion-color-danger-rgb),.2)}}.getCategoryLabel[_ngcontent-%COMP%]{display:none}"]}),a})();function de(i,a){if(1&i&&(e.j41(0,"p",38),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.error)}}function ge(i,a){if(1&i&&(e.j41(0,"ion-item"),e.nrm(1,"ion-icon",33),e.j41(2,"ion-label")(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.nI1(7,"date"),e.k0s(),e.DNE(8,de,2,1,"p",34),e.k0s(),e.j41(9,"div",35)(10,"ion-chip",36),e.EFF(11),e.k0s(),e.j41(12,"div",37),e.EFF(13),e.k0s()()()),2&i){const t=a.$implicit;e.R7$(),e.Y8G("name",t.success?"checkmark-circle":"close-circle")("color",t.success?"primary":"danger"),e.R7$(3),e.Lme("",t.method," ",t.endpoint,""),e.R7$(2),e.JRh(e.i5U(7,9,t.timestamp,"dd/MM/yyyy HH:mm")),e.R7$(2),e.Y8G("ngIf",!t.success),e.R7$(2),e.Y8G("color",t.success?"primary":"danger"),e.R7$(),e.SpI(" ",t.statusCode," "),e.R7$(2),e.SpI("",t.responseTime,"ms")}}function pe(i,a){if(1&i&&(e.j41(0,"div",27)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"Resumo das Integra\xe7\xf5es"),e.k0s()(),e.j41(5,"ion-card-content")(6,"div",28)(7,"div",29)(8,"span",30),e.EFF(9,"APIs Ativas:"),e.k0s(),e.j41(10,"span",31),e.EFF(11),e.k0s()(),e.j41(12,"div",29)(13,"span",30),e.EFF(14,"Webhooks Ativos:"),e.k0s(),e.j41(15,"span",31),e.EFF(16),e.k0s()(),e.j41(17,"div",29)(18,"span",30),e.EFF(19,"Taxa de Erro:"),e.k0s(),e.j41(20,"span",31),e.EFF(21),e.nI1(22,"number"),e.k0s()()()()(),e.j41(23,"ion-card")(24,"ion-card-header")(25,"ion-card-title"),e.EFF(26,"\xdaltimas Atividades"),e.k0s()(),e.j41(27,"ion-card-content")(28,"ion-list"),e.DNE(29,ge,14,12,"ion-item",32),e.k0s()()()()),2&i){const t=e.XpG();e.R7$(11),e.Lme("",t.stats.activeAPIs,"/",t.stats.totalAPIs,""),e.R7$(5),e.Lme("",t.stats.activeWebhooks,"/",t.stats.totalWebhooks,""),e.R7$(5),e.SpI("",e.i5U(22,6,t.stats.errorRate,"1.1-1"),"%"),e.R7$(8),e.Y8G("ngForOf",t.recentCalls)}}function me(i,a){if(1&i&&(e.j41(0,"ion-chip",51),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t.name," ")}}function _e(i,a){if(1&i&&(e.j41(0,"ion-chip",52),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" +",t.capabilities.length-3," ")}}function ue(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-card",41),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.configureProvider(o))}),e.j41(1,"ion-card-content")(2,"div",42),e.nrm(3,"ion-icon",43),e.j41(4,"div",44)(5,"h3"),e.EFF(6),e.k0s(),e.j41(7,"ion-chip",36),e.EFF(8),e.k0s()(),e.j41(9,"div",45),e.nrm(10,"ion-icon",46),e.k0s()(),e.j41(11,"p",47),e.EFF(12),e.k0s(),e.j41(13,"div",48),e.DNE(14,me,2,1,"ion-chip",49)(15,_e,2,1,"ion-chip",50),e.k0s()()()}if(2&i){const t=a.$implicit,n=e.XpG(2);e.R7$(3),e.Y8G("name",t.icon)("color",t.color),e.R7$(3),e.JRh(t.displayName),e.R7$(),e.Y8G("color",t.color),e.R7$(),e.SpI(" ",n.getCategoryLabel(t.category)," "),e.R7$(2),e.Y8G("name",n.getProviderStatusIcon(t.id))("color",n.getProviderStatusColor(t.id)),e.R7$(2),e.JRh(t.description),e.R7$(2),e.Y8G("ngForOf",t.capabilities.slice(0,3)),e.R7$(),e.Y8G("ngIf",t.capabilities.length>3)}}function fe(i,a){if(1&i&&(e.j41(0,"div",27)(1,"div",39),e.DNE(2,ue,16,10,"ion-card",40),e.k0s()()),2&i){const t=e.XpG();e.R7$(2),e.Y8G("ngForOf",t.providers)}}function ve(i,a){if(1&i&&(e.j41(0,"div",64)(1,"span",30),e.EFF(2,"\xdaltimo Teste:"),e.k0s(),e.j41(3,"span",31),e.EFF(4),e.nI1(5,"date"),e.k0s()()),2&i){const t=e.XpG().$implicit;e.R7$(4),e.JRh(e.i5U(5,1,t.lastTested,"dd/MM/yyyy HH:mm"))}}function he(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"Testar"),e.k0s())}function Ce(i,a){1&i&&(e.j41(0,"span"),e.EFF(1,"Testando..."),e.k0s())}function be(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-card",58)(1,"ion-card-header")(2,"div",59)(3,"div",60)(4,"ion-card-title"),e.EFF(5),e.k0s(),e.j41(6,"ion-card-subtitle"),e.EFF(7),e.k0s()(),e.j41(8,"div",61)(9,"ion-chip",62),e.EFF(10),e.k0s()()()(),e.j41(11,"ion-card-content")(12,"div",63)(13,"div",64)(14,"span",30),e.EFF(15,"Recursos Ativos:"),e.k0s(),e.j41(16,"span",31),e.EFF(17),e.k0s()(),e.DNE(18,ve,6,4,"div",65),e.j41(19,"div",64)(20,"span",30),e.EFF(21,"Atualizado:"),e.k0s(),e.j41(22,"span",31),e.EFF(23),e.nI1(24,"date"),e.k0s()()(),e.j41(25,"div",66)(26,"ion-button",67),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.testIntegration(o))}),e.nrm(27,"ion-icon",68),e.DNE(28,he,2,0,"span",69)(29,Ce,2,0,"span",69),e.k0s(),e.j41(30,"ion-button",70),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.editConfiguration(o))}),e.nrm(31,"ion-icon",71),e.EFF(32," Configurar "),e.k0s(),e.j41(33,"ion-button",72),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.deleteConfiguration(o))}),e.nrm(34,"ion-icon",73),e.k0s()()()()}if(2&i){const t=a.$implicit,n=e.XpG(2);e.R7$(5),e.JRh(t.name),e.R7$(2),e.JRh(n.getProviderName(t.providerId)),e.R7$(2),e.Y8G("color",n.getStatusColor(t.status)),e.R7$(),e.SpI(" ",n.getStatusText(t.status)," "),e.R7$(7),e.JRh(t.capabilities.length),e.R7$(),e.Y8G("ngIf",t.lastTested),e.R7$(5),e.JRh(e.i5U(24,10,t.updatedAt,"dd/MM/yyyy")),e.R7$(3),e.Y8G("disabled","testing"===t.status),e.R7$(2),e.Y8G("ngIf","testing"!==t.status),e.R7$(),e.Y8G("ngIf","testing"===t.status)}}function Pe(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",74),e.nrm(1,"ion-icon",75),e.j41(2,"h3"),e.EFF(3,"Nenhuma Integra\xe7\xe3o Configurada"),e.k0s(),e.j41(4,"p"),e.EFF(5,"Configure sua primeira integra\xe7\xe3o para come\xe7ar a capturar leads e dados de campanhas."),e.k0s(),e.j41(6,"ion-button",54),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.showProvidersModal())}),e.nrm(7,"ion-icon",55),e.EFF(8," Adicionar Integra\xe7\xe3o "),e.k0s()()}}function Me(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",27)(1,"div",53)(2,"ion-button",54),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.showProvidersModal())}),e.nrm(3,"ion-icon",55),e.EFF(4," Nova Integra\xe7\xe3o "),e.k0s()(),e.DNE(5,be,35,13,"ion-card",56)(6,Pe,9,0,"div",57),e.k0s()}if(2&i){const t=e.XpG();e.R7$(5),e.Y8G("ngForOf",t.configurations),e.R7$(),e.Y8G("ngIf",0===t.configurations.length)}}function Oe(i,a){if(1&i&&(e.j41(0,"ion-chip",51),e.EFF(1),e.k0s()),2&i){const t=a.$implicit;e.R7$(),e.SpI(" ",t," ")}}function ke(i,a){if(1&i){const t=e.RV6();e.j41(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-card-subtitle"),e.EFF(5),e.k0s()(),e.j41(6,"ion-card-content")(7,"ion-grid")(8,"ion-row")(9,"ion-col",76)(10,"p")(11,"strong"),e.EFF(12,"Eventos:"),e.k0s()(),e.j41(13,"div",77),e.DNE(14,Oe,2,1,"ion-chip",49),e.k0s()(),e.j41(15,"ion-col",76)(16,"p")(17,"strong"),e.EFF(18,"\xdaltimo Trigger:"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s(),e.j41(21,"p")(22,"strong"),e.EFF(23,"Success Rate:"),e.k0s(),e.EFF(24),e.nI1(25,"number"),e.k0s()()(),e.j41(26,"ion-row")(27,"ion-col",78)(28,"p")(29,"strong"),e.EFF(30,"Total Triggers:"),e.k0s(),e.EFF(31),e.nI1(32,"number"),e.k0s(),e.j41(33,"p")(34,"strong"),e.EFF(35,"Status:"),e.k0s(),e.j41(36,"ion-chip",62),e.EFF(37),e.k0s()()()(),e.j41(38,"ion-row")(39,"ion-col")(40,"ion-button",67),e.bIt("click",function(){const o=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.testWebhook(o))}),e.nrm(41,"ion-icon",79),e.EFF(42," Testar Webhook "),e.k0s()()()()()()}if(2&i){const t=a.$implicit,n=e.XpG(2);e.R7$(3),e.JRh(t.name),e.R7$(2),e.JRh(t.endpoint),e.R7$(9),e.Y8G("ngForOf",t.events),e.R7$(5),e.SpI(" ",e.i5U(20,9,t.lastTriggered,"dd/MM/yyyy HH:mm"),""),e.R7$(5),e.SpI(" ",e.i5U(25,12,t.successRate,"1.1-1"),"%"),e.R7$(7),e.SpI(" ",e.bMT(32,15,t.totalTriggers),""),e.R7$(5),e.Y8G("color",n.getStatusColor(t.status)),e.R7$(),e.SpI(" ",n.getStatusText(t.status)," "),e.R7$(3),e.Y8G("disabled","error"===t.status)}}function Fe(i,a){if(1&i){const t=e.RV6();e.j41(0,"div",27)(1,"div",53)(2,"ion-button",54),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.createWebhook())}),e.nrm(3,"ion-icon",55),e.EFF(4," Novo Webhook "),e.k0s()(),e.DNE(5,ke,43,17,"ion-card",32),e.k0s()}if(2&i){const t=e.XpG();e.R7$(5),e.Y8G("ngForOf",t.webhooks)}}function Ie(i,a){if(1&i&&(e.j41(0,"p",38),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.error)}}function xe(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-label")(2,"h3"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s(),e.j41(6,"p",80),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.DNE(9,Ie,2,1,"p",34),e.k0s(),e.j41(10,"div",4)(11,"ion-chip",36),e.EFF(12),e.k0s()()()),2&i){const t=a.$implicit;e.R7$(3),e.Lme("",t.method," ",t.endpoint,""),e.R7$(2),e.Lme("Status: ",t.statusCode," | Tempo: ",t.responseTime,"ms"),e.R7$(2),e.JRh(e.i5U(8,8,t.timestamp,"dd/MM/yyyy HH:mm:ss")),e.R7$(2),e.Y8G("ngIf",!t.success),e.R7$(2),e.Y8G("color",t.success?"primary":"danger"),e.R7$(),e.SpI(" ",t.success?"Sucesso":"Erro"," ")}}function ye(i,a){if(1&i&&(e.j41(0,"p",38),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.error)}}function $e(i,a){if(1&i&&(e.j41(0,"ion-item")(1,"ion-label")(2,"h3"),e.EFF(3),e.k0s(),e.j41(4,"p"),e.EFF(5),e.k0s(),e.j41(6,"p",80),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.DNE(9,ye,2,1,"p",34),e.k0s(),e.j41(10,"div",4)(11,"ion-chip",36),e.EFF(12),e.k0s()()()),2&i){const t=a.$implicit;e.R7$(3),e.JRh(t.event),e.R7$(2),e.Lme("Status: ",t.statusCode," | Tentativas: ",t.attempts,""),e.R7$(2),e.JRh(e.i5U(8,7,t.timestamp,"dd/MM/yyyy HH:mm:ss")),e.R7$(2),e.Y8G("ngIf",!t.success),e.R7$(2),e.Y8G("color",t.success?"primary":"danger"),e.R7$(),e.SpI(" ",t.success?"Sucesso":"Erro"," ")}}function Re(i,a){if(1&i&&(e.j41(0,"div",27)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),e.EFF(4,"Logs de API"),e.k0s()(),e.j41(5,"ion-card-content")(6,"ion-list"),e.DNE(7,xe,13,11,"ion-item",32),e.k0s()()(),e.j41(8,"ion-card")(9,"ion-card-header")(10,"ion-card-title"),e.EFF(11,"Logs de Webhook"),e.k0s()(),e.j41(12,"ion-card-content")(13,"ion-list"),e.DNE(14,$e,13,10,"ion-item",32),e.k0s()()()()),2&i){const t=e.XpG();e.R7$(7),e.Y8G("ngForOf",t.recentCalls),e.R7$(7),e.Y8G("ngForOf",t.recentWebhookLogs)}}const Ee=[{path:"",component:(()=>{var i;class a{constructor(n,o,r,s){this.integrationsService=n,this.modalController=o,this.alertController=r,this.loadingController=s,this.destroy$=new y.B,this.selectedSegment="overview",this.providers=[],this.configurations=[],this.webhooks=[],this.recentCalls=[],this.recentWebhookLogs=[],this.stats={totalIntegrations:0,activeIntegrations:0,totalCalls:0,todayCalls:0,avgResponseTime:0,errorRate:0,successRate:100,totalAPIs:0,activeAPIs:0,totalWebhooks:0,activeWebhooks:0}}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadData(){this.integrationsService.getProviders().pipe((0,h.Q)(this.destroy$)).subscribe(n=>{this.providers=n}),this.integrationsService.getConfigurations().pipe((0,h.Q)(this.destroy$)).subscribe(n=>{this.configurations=n}),this.integrationsService.getWebhooks().pipe((0,h.Q)(this.destroy$)).subscribe(n=>{this.webhooks=n}),this.integrationsService.getRecentAPICalls(10).pipe((0,h.Q)(this.destroy$)).subscribe(n=>{this.recentCalls=n}),this.integrationsService.getRecentWebhookLogs(10).pipe((0,h.Q)(this.destroy$)).subscribe(n=>{this.recentWebhookLogs=n}),this.integrationsService.getStats().pipe((0,h.Q)(this.destroy$)).subscribe(n=>{this.stats=n})}configureProvider(n){var o=this;return(0,v.A)(function*(){const r=yield o.modalController.create({component:x,componentProps:{provider:n},cssClass:"integration-config-modal"});return r.onDidDismiss().then(s=>{s.data&&o.loadData()}),yield r.present()})()}showProvidersModal(){var n=this;return(0,v.A)(function*(){yield(yield n.alertController.create({header:"Selecionar Provedor",message:"Escolha o tipo de integra\xe7\xe3o que deseja configurar:",inputs:n.providers.map(r=>({name:"provider",type:"radio",label:r.displayName,value:r.id})),buttons:[{text:"Cancelar",role:"cancel"},{text:"Configurar",handler:r=>{if(r){const s=n.providers.find(l=>l.id===r);s&&n.configureProvider(s)}}}]})).present()})()}getProviderStatusIcon(n){const o=this.configurations.find(r=>r.providerId===n);if(!o)return"add-circle-outline";switch(o.status){case"active":return"checkmark-circle";case"error":return"close-circle";case"testing":return"sync";default:return"pause-circle"}}getProviderStatusColor(n){const o=this.configurations.find(r=>r.providerId===n);if(!o)return"medium";switch(o.status){case"active":return"success";case"error":return"danger";case"testing":return"warning";default:return"medium"}}getCategoryLabel(n){return{"social-media":"Redes Sociais",advertising:"Publicidade",crm:"CRM",analytics:"Analytics",email:"Email Marketing",other:"Outros"}[n]||n}editConfiguration(n){var o=this;return(0,v.A)(function*(){const r=o.providers.find(l=>l.id===n.providerId);if(!r)return;const s=yield o.modalController.create({component:x,componentProps:{provider:r,configuration:n},cssClass:"integration-config-modal"});return s.onDidDismiss().then(l=>{l.data&&o.loadData()}),yield s.present()})()}testIntegration(n){var o=this;return(0,v.A)(function*(){const r=yield o.loadingController.create({message:"Testando integra\xe7\xe3o..."});yield r.present();try{const s=yield o.integrationsService.testConfiguration(n.id).toPromise();null!=s&&s.success?yield(yield o.alertController.create({header:"Teste Bem-sucedido!",message:`A integra\xe7\xe3o ${n.name} est\xe1 funcionando corretamente.`,buttons:["OK"]})).present():yield(yield o.alertController.create({header:"Teste Falhou",message:(null==s?void 0:s.error)||"Erro desconhecido na integra\xe7\xe3o.",buttons:["OK"]})).present(),o.loadData()}catch(s){yield(yield o.alertController.create({header:"Erro no Teste",message:s.message||"Erro ao testar a integra\xe7\xe3o.",buttons:["OK"]})).present()}finally{yield r.dismiss()}})()}deleteConfiguration(n){var o=this;return(0,v.A)(function*(){var s;yield(yield o.alertController.create({header:"Confirmar Exclus\xe3o",message:`Tem certeza que deseja excluir a integra\xe7\xe3o "${n.name}"?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Excluir",role:"destructive",handler:(s=(0,v.A)(function*(){const l=yield o.loadingController.create({message:"Removendo integra\xe7\xe3o..."});yield l.present();try{(yield o.integrationsService.deleteConfiguration(n.id).toPromise())&&(o.loadData(),yield(yield o.alertController.create({header:"Sucesso!",message:"Integra\xe7\xe3o removida com sucesso.",buttons:["OK"]})).present())}catch(d){yield(yield o.alertController.create({header:"Erro",message:d.message||"Erro ao remover a integra\xe7\xe3o.",buttons:["OK"]})).present()}finally{yield l.dismiss()}}),function(){return s.apply(this,arguments)})}]})).present()})()}getProviderName(n){const o=this.providers.find(r=>r.id===n);return(null==o?void 0:o.displayName)||"Desconhecido"}createWebhook(){var n=this;return(0,v.A)(function*(){0!==n.configurations.length?console.log("Creating webhook..."):yield(yield n.alertController.create({header:"Nenhuma Integra\xe7\xe3o",message:"Configure pelo menos uma integra\xe7\xe3o antes de criar webhooks.",buttons:["OK"]})).present()})()}testWebhook(n){return(0,v.A)(function*(){console.log("Testing webhook:",n.name)})()}exportLogs(){console.log("Exporting logs...")}getStatusColor(n){switch(n){case"active":return"success";case"inactive":return"warning";case"error":return"danger";case"testing":return"tertiary";default:return"medium"}}getStatusText(n){switch(n){case"active":return"Ativa";case"inactive":return"Inativa";case"error":return"Erro";case"testing":return"Testando";default:return"Desconhecido"}}}return(i=a).\u0275fac=function(n){return new(n||i)(e.rXU(I),e.rXU(c.W3),e.rXU(c.hG),e.rXU(c.Xi))},i.\u0275cmp=e.VBU({type:i,selectors:[["app-integrations"]],decls:73,vars:15,consts:[[3,"translucent"],["slot","start"],[1,"toolbar-title-container"],[1,"toolbar-subtitle"],["slot","end"],["fill","clear",3,"click"],["name","download","slot","icon-only"],[3,"fullscreen"],[1,"page-container"],[1,"integrations-content"],[1,"stats-container"],["size","6","size-md","3"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],["color","primary",3,"ngModelChange","ngModel"],["value","overview"],["name","analytics"],["value","providers"],["name","storefront"],["value","configurations"],["name","settings"],["value","webhooks"],["name","flash"],["value","logs"],["name","list"],["class","tab-content",4,"ngIf"],[1,"tab-content"],[1,"overview-stats"],[1,"stat-item"],[1,"label"],[1,"value"],[4,"ngFor","ngForOf"],["slot","start",3,"name","color"],["class","error-text",4,"ngIf"],["slot","end",1,"call-details"],["size","small",3,"color"],[1,"response-time"],[1,"error-text"],[1,"providers-grid"],["class","provider-card",3,"click",4,"ngFor","ngForOf"],[1,"provider-card",3,"click"],[1,"provider-header"],[1,"provider-icon",3,"name","color"],[1,"provider-info"],[1,"provider-status"],[3,"name","color"],[1,"provider-description"],[1,"provider-capabilities"],["color","tertiary","size","small",4,"ngFor","ngForOf"],["color","light","size","small",4,"ngIf"],["color","tertiary","size","small"],["color","light","size","small"],[1,"tab-header"],["color","primary",3,"click"],["name","add","slot","start"],["class","config-card",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[1,"config-card"],[1,"config-header"],[1,"config-info"],[1,"config-status"],[3,"color"],[1,"config-details"],[1,"detail-row"],["class","detail-row",4,"ngIf"],[1,"config-actions"],["fill","outline","size","small",3,"click","disabled"],["name","pulse","slot","start"],[4,"ngIf"],["fill","outline","size","small",3,"click"],["name","settings","slot","start"],["fill","clear","size","small","color","danger",3,"click"],["name","trash","slot","icon-only"],[1,"empty-state"],["name","settings-outline"],["size","6"],[1,"events-list"],["size","12"],["name","flash","slot","start"],[1,"timestamp"]],template:function(n,o){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-menu-button"),e.k0s(),e.j41(4,"div",2)(5,"ion-title"),e.EFF(6,"APIs & Webhooks"),e.k0s(),e.j41(7,"p",3),e.EFF(8,"Gerencie integra\xe7\xf5es e monitore logs de atividade"),e.k0s()(),e.j41(9,"ion-buttons",4)(10,"ion-button",5),e.bIt("click",function(){return o.exportLogs()}),e.nrm(11,"ion-icon",6),e.k0s()()()(),e.j41(12,"ion-content",7)(13,"div",8)(14,"div",9)(15,"div",10)(16,"ion-grid")(17,"ion-row")(18,"ion-col",11)(19,"ion-card",12)(20,"ion-card-content")(21,"div",13),e.EFF(22),e.k0s(),e.j41(23,"div",14),e.EFF(24,"APIs"),e.k0s()()()(),e.j41(25,"ion-col",11)(26,"ion-card",12)(27,"ion-card-content")(28,"div",13),e.EFF(29),e.k0s(),e.j41(30,"div",14),e.EFF(31,"Webhooks"),e.k0s()()()(),e.j41(32,"ion-col",11)(33,"ion-card",12)(34,"ion-card-content")(35,"div",13),e.EFF(36),e.k0s(),e.j41(37,"div",14),e.EFF(38,"Calls Hoje"),e.k0s()()()(),e.j41(39,"ion-col",11)(40,"ion-card",12)(41,"ion-card-content")(42,"div",13),e.EFF(43),e.nI1(44,"number"),e.k0s(),e.j41(45,"div",14),e.EFF(46,"Tempo M\xe9dio"),e.k0s()()()()()()(),e.j41(47,"ion-segment",15),e.mxI("ngModelChange",function(s){return e.DH7(o.selectedSegment,s)||(o.selectedSegment=s),s}),e.j41(48,"ion-segment-button",16),e.nrm(49,"ion-icon",17),e.j41(50,"ion-label"),e.EFF(51,"Vis\xe3o Geral"),e.k0s()(),e.j41(52,"ion-segment-button",18),e.nrm(53,"ion-icon",19),e.j41(54,"ion-label"),e.EFF(55,"Provedores"),e.k0s()(),e.j41(56,"ion-segment-button",20),e.nrm(57,"ion-icon",21),e.j41(58,"ion-label"),e.EFF(59,"Configura\xe7\xf5es"),e.k0s()(),e.j41(60,"ion-segment-button",22),e.nrm(61,"ion-icon",23),e.j41(62,"ion-label"),e.EFF(63,"Webhooks"),e.k0s()(),e.j41(64,"ion-segment-button",24),e.nrm(65,"ion-icon",25),e.j41(66,"ion-label"),e.EFF(67,"Logs"),e.k0s()()(),e.DNE(68,pe,30,9,"div",26)(69,fe,3,1,"div",26)(70,Me,7,2,"div",26)(71,Fe,6,1,"div",26)(72,Re,15,2,"div",26),e.k0s()()()),2&n&&(e.Y8G("translucent",!0),e.R7$(12),e.Y8G("fullscreen",!0),e.R7$(10),e.JRh(o.stats.totalAPIs),e.R7$(7),e.JRh(o.stats.totalWebhooks),e.R7$(7),e.JRh(o.stats.todayCalls),e.R7$(7),e.SpI("",e.i5U(44,12,o.stats.avgResponseTime,"1.0-0"),"ms"),e.R7$(4),e.R50("ngModel",o.selectedSegment),e.R7$(21),e.Y8G("ngIf","overview"===o.selectedSegment),e.R7$(),e.Y8G("ngIf","providers"===o.selectedSegment),e.R7$(),e.Y8G("ngIf","configurations"===o.selectedSegment),e.R7$(),e.Y8G("ngIf","webhooks"===o.selectedSegment),e.R7$(),e.Y8G("ngIf","logs"===o.selectedSegment))},dependencies:[f.Sq,f.bT,g.BC,g.vS,c.Jm,c.QW,c.b_,c.I9,c.ME,c.HW,c.tN,c.ZB,c.hU,c.W9,c.lO,c.eU,c.iq,c.uz,c.he,c.nf,c.MC,c.ln,c.Gp,c.eP,c.BC,c.ai,c.Je,f.QX,f.vh],styles:["ion-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, var(--gray-50) 0%, var(--primary-200) 100%)}@media (prefers-color-scheme: dark){ion-content[_ngcontent-%COMP%]{--background: linear-gradient(135deg, var(--gray-900) 0%, var(--gray-800) 100%)}}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--background: white;--color: #2c3e50;--border-color: #e9ecef}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .toolbar-title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;flex:1}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .toolbar-title-container[_ngcontent-%COMP%]   ion-title[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;margin:0;padding:0}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .toolbar-title-container[_ngcontent-%COMP%]   .toolbar-subtitle[_ngcontent-%COMP%]{margin:0;font-size:.75rem;color:var(--text-muted);line-height:1.2;font-weight:400}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--color: #6c757d}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:hover{--color: #007bff}.stats-container[_ngcontent-%COMP%]{padding:16px}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{margin:8px;text-align:center}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px 8px}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--ion-color-primary);margin-bottom:4px}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:var(--ion-color-medium);font-weight:500}ion-segment[_ngcontent-%COMP%]{margin:16px 16px 0}.tab-content[_ngcontent-%COMP%]{padding:16px}.tab-content[_ngcontent-%COMP%]   .tab-header[_ngcontent-%COMP%]{margin-bottom:16px;text-align:right}.providers-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem;margin-bottom:1.5rem}.provider-card[_ngcontent-%COMP%]{border-radius:12px;background:#fff;box-shadow:0 2px 8px #00000014;cursor:pointer;transition:all .2s ease;border:1px solid var(--ion-color-step-150)}.provider-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 16px #0000001f}.provider-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:1.5rem}.provider-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:1rem;margin-bottom:1rem}.provider-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   .provider-icon[_ngcontent-%COMP%]{font-size:2.5rem;min-width:40px}.provider-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   .provider-info[_ngcontent-%COMP%]{flex:1;min-width:0}.provider-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   .provider-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.125rem;font-weight:600;color:var(--ion-color-dark)}.provider-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   .provider-status[_ngcontent-%COMP%]{flex-shrink:0}.provider-card[_ngcontent-%COMP%]   .provider-header[_ngcontent-%COMP%]   .provider-status[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.provider-card[_ngcontent-%COMP%]   .provider-description[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-size:.875rem;line-height:1.4;margin:0 0 1rem}.provider-card[_ngcontent-%COMP%]   .provider-capabilities[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.25rem}.config-card[_ngcontent-%COMP%]{border-radius:12px;background:#fff;box-shadow:0 2px 8px #00000014;margin-bottom:1rem}.config-card[_ngcontent-%COMP%]   .config-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.config-card[_ngcontent-%COMP%]   .config-header[_ngcontent-%COMP%]   .config-info[_ngcontent-%COMP%]{flex:1;min-width:0}.config-card[_ngcontent-%COMP%]   .config-header[_ngcontent-%COMP%]   .config-status[_ngcontent-%COMP%]{flex-shrink:0}.config-card[_ngcontent-%COMP%]   .config-details[_ngcontent-%COMP%]{margin:1rem 0}.config-card[_ngcontent-%COMP%]   .config-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid var(--ion-color-step-150)}.config-card[_ngcontent-%COMP%]   .config-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.config-card[_ngcontent-%COMP%]   .config-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--ion-color-medium);font-weight:500}.config-card[_ngcontent-%COMP%]   .config-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:.875rem;color:var(--ion-color-dark);font-weight:600}.config-card[_ngcontent-%COMP%]   .config-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:1rem;padding-top:1rem;border-top:1px solid var(--ion-color-step-150)}.config-card[_ngcontent-%COMP%]   .config-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;font-size:.875rem;flex-shrink:0}.integrations-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{margin-bottom:16px}.integrations-list[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:var(--ion-color-dark);margin:0}.integration-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:12px;box-shadow:0 2px 8px #0000001a}.integration-card[_ngcontent-%COMP%]   .integration-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.integration-card[_ngcontent-%COMP%]   .integration-header[_ngcontent-%COMP%]   .integration-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1.125rem;font-weight:600;color:var(--ion-color-dark)}.integration-card[_ngcontent-%COMP%]   .integration-header[_ngcontent-%COMP%]   .integration-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:var(--ion-color-medium);font-weight:500}.integration-card[_ngcontent-%COMP%]   .integration-details[_ngcontent-%COMP%]{margin:16px 0}.integration-card[_ngcontent-%COMP%]   .integration-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--ion-color-step-100)}.integration-card[_ngcontent-%COMP%]   .integration-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.integration-card[_ngcontent-%COMP%]   .integration-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:var(--ion-color-medium);font-size:.875rem}.integration-card[_ngcontent-%COMP%]   .integration-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;font-size:.875rem;color:var(--ion-color-dark)}.integration-card[_ngcontent-%COMP%]   .integration-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}.integration-card[_ngcontent-%COMP%]   .integration-actions[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap;margin-top:16px;padding-top:16px;border-top:1px solid var(--ion-color-step-150)}.integration-card[_ngcontent-%COMP%]   .integration-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;font-size:.875rem}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:60px 20px;color:var(--ion-color-medium)}.empty-state[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:16px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;margin-bottom:8px;color:var(--ion-color-dark)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;line-height:1.5;margin-bottom:24px;max-width:400px;margin-left:auto;margin-right:auto}.config-form[_ngcontent-%COMP%]{padding:16px}.config-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:32px}.config-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;color:var(--ion-color-dark);margin:0 0 16px;padding-bottom:8px;border-bottom:2px solid var(--ion-color-primary)}.config-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0;margin-bottom:12px}.config-form[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500;margin-bottom:4px}@media (max-width: 768px){.integrations-container[_ngcontent-%COMP%]{padding:12px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:12px}.integration-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.integration-actions[_ngcontent-%COMP%]{flex-direction:column}.integration-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.config-form[_ngcontent-%COMP%]{padding:12px}}.overview-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid var(--ion-color-light)}.overview-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.overview-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:500;color:var(--ion-color-medium)}.overview-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;color:var(--ion-color-primary);font-size:1.1rem}.call-details[_ngcontent-%COMP%]{text-align:right}.call-details[_ngcontent-%COMP%]   .response-time[_ngcontent-%COMP%]{font-size:.9rem;color:var(--ion-color-medium);margin-top:4px}.events-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:4px;margin-top:4px}.error-text[_ngcontent-%COMP%]{color:var(--ion-color-danger)!important;font-style:italic}.timestamp[_ngcontent-%COMP%]{color:var(--ion-color-medium)!important;font-size:.9rem!important}ion-card[_ngcontent-%COMP%]{margin-bottom:16px}ion-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding-bottom:8px}ion-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600}ion-card[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-weight:500;font-size:.9rem}ion-chip[_ngcontent-%COMP%]{font-weight:500}ion-button[_ngcontent-%COMP%]{--border-radius: 8px}@media (max-width: 768px){.stats-container[_ngcontent-%COMP%]{padding:8px}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem}.stats-container[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem}.tab-content[_ngcontent-%COMP%]{padding:8px}ion-segment[_ngcontent-%COMP%]{margin:8px 8px 0}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{font-size:.8rem}ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1rem}.events-list[_ngcontent-%COMP%]{flex-direction:column}.events-list[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{font-size:.8rem}.integrations-container[_ngcontent-%COMP%]{padding:12px}.integration-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.integration-actions[_ngcontent-%COMP%]{flex-direction:column}.integration-actions[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.config-form[_ngcontent-%COMP%]{padding:12px}}@media (prefers-color-scheme: dark){.stat-card[_ngcontent-%COMP%]{background:var(--ion-color-step-100);border-color:var(--ion-color-step-200)}.integration-card[_ngcontent-%COMP%]{background:var(--ion-color-step-50)}}"]}),a})()}];let je=(()=>{var i;class a{}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[k.iI.forChild(Ee),k.iI]}),a})();var Te=p(4354);let Ge=(()=>{var i;class a{}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[f.MD,g.X1,g.YN,c.bv]}),a})(),we=(()=>{var i;class a{}return(i=a).\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.$C({type:i}),i.\u0275inj=e.G2t({imports:[f.MD,g.YN,g.X1,c.bv,O.q1,je,Te.$,Ge]}),a})()}}]);